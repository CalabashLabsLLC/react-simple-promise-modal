{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable jsx-quotes, semi */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.css'\n/* global jQuery */\n\nexport default class ConfirmPromiseModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      promiseInfo: {},\n      text: ''\n    };\n    this.modalId = props.modalId || 'modalId';\n    this.labelId = props.labelId || 'labelId';\n    this.textId = `text-${this.modalId}`;\n    this.hide = this.hide.bind(this);\n    this.show = this.show.bind(this);\n    this.getHeaderContent = this.getHeaderContent.bind(this);\n    this.getBodyContent = this.getBodyContent.bind(this);\n    this.getFooterContent = this.getFooterContent.bind(this);\n  }\n  componentWillMount() {\n    // mount ref so parent can call methods\n    this.props.onRef(this);\n  }\n  show() {\n    return new Promise((resolve, reject) => {\n      this.setState({\n        promiseInfo: {\n          resolve,\n          reject\n        }\n      })\n      jQuery(`#${this.modalId}`).modal('show');\n    });\n  }\n  hide() {\n    if (this.props.showTextArea) {\n      document.getElementById(this.textId).value = '';\n    }\n    jQuery(`#${this.modalId}`).modal('hide');\n  }\n  getHeaderContent() {\n    return (\n      <div className=\"modal-header\">\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">\n            <svg focusable=\"false\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\n              <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            </svg>\n          </span>\n        </button>\n        <h4 className=\"modal-title w-100 text-left\" id={this.labelId}>{this.props.title}</h4>\n      </div>\n    );\n  }\n  getBodyContent() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"row\">\n          <div className=\"modal-form-wrap text-center\">\n            <div className=\"modal-delete-msg\">\n              {this.props.render()}\n            </div>\n            {this.props.showTextArea\n              ? <div className=\"form-group\">\n                <textarea\n                  className={`form-control textarea-controls ${styles.textarea_style}`}\n                  id={this.textId}\n                  placeholder=\"Your message here\"\n                  onChange={e => this.setState({ text: e.target.value })}\n                />\n              </div> : null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n  getFooterContent() {\n    const isDisabled = this.props.showTextArea && this.state.text.length === 0;\n    const { resolve = () => {}, reject = () => {} } = this.state.promiseInfo;\n    this.resolve = resolve.bind(this);\n    this.reject = reject.bind(this); // use to throw error to promise\n    return (\n      <div className=\"delete-modal-ft\" style={{ marginBottom: '20px', textAlign: 'center' }}>\n        <button\n          onClick={() => { const txt = this.state.text !== '' ? this.state.text : true; this.setState({ text: '' }); this.resolve(txt); this.hide(); }}\n          disabled={isDisabled}\n          type=\"button\"\n          className={`${styles.btn_cta_primary} delete-btn ${isDisabled && styles.textarea_button_color}`}\n          data-dismiss=\"modal\"\n          aria-label=\"Close\">\n          {this.props.yesButton}\n        </button>\n        <button type=\"button\" onClick={() => { this.resolve(false); this.hide(); }} className={`${styles.btn_cta_primary} cancel-btn`} data-dismiss=\"modal\" aria-label=\"Close\">\n          {this.props.noButton}\n        </button>\n      </div>\n    );\n  }\n  render() {\n    return (\n      <div className=\"modal fade\" id={this.modalId} tabIndex=\"-1\" role=\"dialog\" aria-labelledby={this.labelId} aria-hidden=\"true\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            {this.getHeaderContent()}\n            {this.getBodyContent()}\n            {this.getFooterContent()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nConfirmPromiseModal.propTypes = {\n  modalId: PropTypes.string.isRequired,\n  labelId: PropTypes.string.isRequired,\n  render: PropTypes.func.isRequired,\n  onRef: PropTypes.func.isRequired,\n  yesButton: PropTypes.string,\n  noButton: PropTypes.string,\n  showTextArea: PropTypes.bool,\n  title: PropTypes.string\n};\n\nConfirmPromiseModal.defaultProps = {\n  showTextArea: false,\n  yesButton: 'Confirm',\n  noButton: 'Cancel',\n  title: 'Notice'\n};\n"],"names":["ConfirmPromiseModal","props","state","modalId","labelId","textId","hide","bind","show","getHeaderContent","getBodyContent","getFooterContent","onRef","Promise","resolve","reject","setState","modal","showTextArea","getElementById","value","title","render","styles","textarea_style","text","e","target","isDisabled","length","promiseInfo","marginBottom","textAlign","txt","btn_cta_primary","textarea_button_color","yesButton","noButton","React","Component","propTypes","PropTypes","string","isRequired","func","bool","defaultProps"],"mappings":"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"}